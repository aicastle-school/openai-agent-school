{
    "image": "mcr.microsoft.com/vscode/devcontainers/universal:3",
    "onCreateCommand": "curl -LsSf https://astral.sh/uv/install.sh | sh && uv sync && echo 'source ${containerWorkspaceFolder}/.venv/bin/activate' >> ~/.bashrc && cp .devcontainer/.env.example .env && echo {} > code.json",
    "customizations": {
        "vscode": {
            "extensions": [
                "GitHub.copilot",
                "ms-python.python"
            ]
        },
        "settings": {
            "markdown.preview.doubleClickToSwitchToEditor": false,
            "workbench.editorAssociations": {
                "*.md": "vscode.markdown.preview.editor"
            },
            "python-envs.defaultEnvManager": "ms-python.python:venv",
            "python.defaultInterpreterPath": "${workspaceFolder}/.venv/bin/python",
            "python.terminal.activateEnvironment": true,
            "python.terminal.activateEnvInCurrentTerminal": true
        }
    }
}
