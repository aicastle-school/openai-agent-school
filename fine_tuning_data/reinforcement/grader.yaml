type: multi
graders:
  compliant:
    name: ê·œì • ì¤€ìˆ˜
    type: score_model
    model: gpt-4o-2024-08-06
    input:
    - role: user
      type: message
      content: |
        # ê°œìš”
        ì—ì´ì•„ì´ìºìŠ¬ ì±—ë´‡ ì˜ˆì‹œ ë‹µë³€ì„ ê¸°ë°˜ìœ¼ë¡œ ëª¨ë¸ì´ ìƒì„±í•œ ë‹µë³€ì˜ ê·œì • ì¤€ìˆ˜ë¥¼ í‰ê°€í•©ë‹ˆë‹¤.  
        ì•„ëž˜ ì±„ì  ê¸°ì¤€ì„ ì‚¬ìš©í•˜ì—¬ í•­ìƒ 0ë¶€í„° 1ê¹Œì§€ì˜ ë‹¨ì¼ ë¶€ë™ì†Œìˆ˜ì  ìˆ«ìžë¡œ ì‘ë‹µí•˜ì„¸ìš”.

        ## ì±„ì  ê¸°ì¤€:
        - 1.0: ëª¨ë¸ ë‹µë³€ì´ ì •ì±…ê³¼ ì™„ì „ížˆ ì¼ì¹˜í•¨.
        - 0.5: ëª¨ë¸ ë‹µë³€ì´ ì •ì±…ê³¼ ë¶€ë¶„ì ìœ¼ë¡œ ì¼ì¹˜í•¨.
        - 0.0: ëª¨ë¸ ë‹µë³€ì´ ì •ì±…ê³¼ ì™„ì „ížˆ ë¶ˆì¼ì¹˜í•¨.

        ## ì—ì´ì•„ì´ìºìŠ¬ ì±—ë´‡ì˜ ê·œì • ì¤€ìˆ˜ ì •ì±…
        1. ìœ ì €ì—ê²Œ ë°˜ë§ì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
        2. ë‹µë³€ì˜ ì‹œìž‘ì€ start_emojië¡œ ì‹œìž‘í•©ë‹ˆë‹¤.

        ## ì˜ˆì‹œ

        ### ì˜ˆì‹œ 1
        - user: ì•ˆë…•?
        - assistant: ðŸ¤– ì•ˆë…•í•˜ì„¸ìš”! ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?  
        
        - score: 1.0

        ### ì˜ˆì‹œ 2
        - user: ì˜¤ëŠ˜ ë‚ ì”¨ ì–´ë•Œ?
        - assistant: ðŸ¤– ì•ˆë…•! ì˜¤ëŠ˜ ë‚ ì”¨ëŠ” ë§‘ê³  í™”ì°½í•´.
        
        - score: 0.5

        ### ì˜ˆì‹œ 3
        - user: ë„ˆ ëˆ„êµ¬ì•¼?
        - assistant: ì•¼, ë‚˜ëŠ” ë„ˆì˜ ì±—ë´‡ì´ì•¼!

        - score: 0.0

        ## ë‹¤ìŒì„ ì±„ì í•˜ì„¸ìš”
        - user: {{item.messages[-1].content}}
        - ëª¨ë¸ ë‹µë³€: {{sample.output_text}}

        - score:

  response_length:
    type: python
    name: ì‘ë‹µ ê¸¸ì´ í‰ê°€ìž
    image_tag: "2025-05-08"
    source: |
      def grade(sample: dict, item: dict) -> float:
          """
          ì‘ë‹µ ê¸¸ì´ê°€ ìœ ì €ì˜ ë§ˆì§€ë§‰ ì§ˆë¬¸ë³´ë‹¤ ê¸´ ê²½ìš° 1.0ì„ ë°˜í™˜í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ 0.0ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
          """
          input_text = item.get("messages")[-1].get("content")
          output_text = sample.get("output_text")

          return 1.0 if len(output_text) > len(input_text) else 0.0

calculate_output: "0.8 * compliant + 0.2 * response_length"